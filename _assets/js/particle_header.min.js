function getRandomValue(i,t){return Math.random()*(t-i)+i}function addParticles(i){for(var t=0;i>t;t++){var o={position:[0,0],velocity:[0,0]};o.position=[getRandomValue(0,simulation.size[0]),getRandomValue(0,simulation.size[1])],o.velocity=[getRandomValue(-.035,.035),getRandomValue(-.035,.035)],o.size=getRandomValue(simulation.settings.size[0],simulation.settings.size[1]),simulation.particles.push(o)}}function run(){requestAnimationFrame(run);var i=(new Date).getTime(),t=i-(simulation.time||i);simulation.time=i,update(t),draw(t)}function draw(i){simulation.context.clearRect(0,0,simulation.size[0],simulation.size[1]);for(var t=0;t<simulation.particles.length;t++)drawParticle(t)}function update(i){for(var t=0;t<simulation.particles.length;t++)simulation.particles[t].position[0]+=simulation.particles[t].velocity[0]*i,simulation.particles[t].position[1]+=simulation.particles[t].velocity[1]*i;if(simulation.settings.gravity)for(var t=0;t<simulation.particles.length;t++)simulation.particles[t].velocity[1]+=simulation.settings.gravity*i;for(var t=0;t<simulation.particles.length;t++)for(var o=0;1>=o;o++)simulation.particles[t].position[o]<=0?(simulation.particles[t].velocity[o]=Math.abs(simulation.particles[t].velocity[o]),simulation.particles[t].position[o]=1):simulation.particles[t].position[o]>=simulation.size[o]&&(simulation.particles[t].velocity[o]=-Math.abs(simulation.particles[t].velocity[o]),simulation.particles[t].position[o]=simulation.size[o]-1)}function drawParticle(i){var t=simulation.particles[i].position;simulation.context.beginPath(),simulation.context.fillStyle="rgba("+simulation.settings.color[0]+", "+simulation.settings.color[1]+", "+simulation.settings.color[2]+", 0.4)",simulation.context.arc(t[0],t[1],simulation.particles[i].size/2,0,2*Math.PI,!0),simulation.context.closePath(),simulation.context.fill();for(var o=i+1;o<simulation.particles.length;o++){var n=simulation.particles[o].position,s=t[0]-n[0],a=t[1]-n[1],e=Math.sqrt(s*s+a*a);if(e<simulation.settings.proximity[0]){var l=1-e/simulation.settings.proximity[1];l=Math.min(l,.3),simulation.context.strokeStyle="rgba("+simulation.settings.color[0]+", "+simulation.settings.color[1]+", "+simulation.settings.color[2]+", "+l+")",simulation.context.beginPath(),simulation.context.moveTo(t[0],t[1]),simulation.context.lineTo(n[0],n[1]),simulation.context.stroke(),simulation.context.closePath()}}}function init(){var i=document.getElementById("canvas");if(i.getContext){simulation.settings.fullscreen&&(i.width=document.body.clientWidth,i.height=document.body.clientHeight);var t=i.getContext("2d");simulation.size[0]=i.width,simulation.size[1]=i.height,simulation.context=t,addParticles(simulation.settings.count),run()}}var particles={position:[0,0],velocity:[0,0],size:0},simulation={time:0,context:null,size:[],particles:[],settings:{fullscreen:false,gravity:0,count:60,color:[255,255,255],size:[3,5],proximity:[250,100]}};window.onblur=function(i){simulation.paused=!0},window.onfocus=function(i){simulation.time=(new Date).getTime(),simulation.paused=!1};


window.onload = function() 
{
    // Load header effect
    var canvasParent = document.getElementById('header');

    // Set random color
    var color = Math.floor(Math.random() * (12 + 1));
    canvasParent.className = 'color_' + color;

  	// Init animation
    var canvas = document.getElementById('canvas');
    canvas.width = canvasParent.clientWidth;
    canvas.height = canvasParent.clientHeight - 1;
    init();
};
